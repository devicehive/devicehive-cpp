<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>DeviceHive C++ Framework: Getting started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DeviceHive C++ Framework
   &#160;<span id="projectnumber">1.3</span>
   </div>
   <div id="projectbrief">DeviceHive framework library for C++</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page_start.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Getting started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>All key DeviceHive elements are presented on the picture below:</p>
<div class="image">
<img src="preview2.png" alt="preview2.png"/>
<div class="caption">
DeviceHive framework elements</div></div>
<p> DeviceHive C++ framework is mostly focused on <b>Device</b> and <b>Gateway</b> development, <b>Client</b> is coming soon.</p>
<p>DeviceHive C++ framework require <em>boost</em> library. Although most of the <em>boost</em> libraries are header-only, there are a few <em>boost</em> libraries which have to be built. Building <em>boost</em> is quite easy, see corresponding section below.</p>
<p>To use DeviceHive C++ framework on different platforms (<em>ARM</em> or <em>MIPS</em>) a toolchain for cross compilation should be prepared, see corresponding section below. Of course <em>boost</em> should be built using this toolchain too.</p>
<h2>Building boost </h2>
<p>To use DeviceHive C++ framework the <em>boost</em> header files should be available. At least the following header-only <em>boost</em> library are used:</p><ul>
<li><code>boost.asio</code></li>
<li><code>boost.bind</code></li>
<li><code>boost.smart_ptr</code></li>
</ul>
<p>Moreover, at least the following <em>boost</em> libraries should be built:</p><ul>
<li><code>boost.system</code></li>
</ul>
<h3>Builing <em>boost</em> on Windows</h3>
<p><a href="http://www.boost.org/users/download/">Download</a> and unpack <em>boost</em> library package. Then open the visual studio command line tool and cd-ing into unpacked <em>boost</em> folder. To build <em>boost</em> run the following commands:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;bootstrap.bat</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;b2.exe --with-system --with-date_time --with-thread</div>
</div><!-- fragment --><h3>Building <em>boost</em> on Linux</h3>
<p>Some Linux distributives has boost package available.</p>
<p>Ubuntu:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo apt-get install libboost-system-dev libboost-thread-dev</div>
</div><!-- fragment --><p>Archlinux:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo pacman -S boost make</div>
</div><!-- fragment --><p>If there is no preconfigured <em>boost</em> package available it is quite easy to build boost manually. <a href="http://www.boost.org/users/download/">Download</a> and unpack <em>boost</em> library package. Open terminal and cd-ing into unpacked <em>boost</em> folder. Then run the following commands:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./bootstrap.sh --with-libraries=system,date_time,thread</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;./b2</div>
</div><!-- fragment --><p>To build <em>boost</em> using custom toolchain <code>toolset</code> parameter may be used. For example, to build <em>boost</em> for the RaspberryPi use the following commands:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./bootstrap.sh --with-libraries=system,thread --prefix=/usr/local/raspberrypi</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;echo &quot;using gcc : bbb : arm-linux-gnueabihf-g++ ;&quot; &gt;&gt; ~/user-config.jam</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;./b2 toolset=gcc-bbb</div>
</div><!-- fragment --><p>Note, in that case, before build the <em>boost</em> you have ensure that the <code>~/user-config.jam</code> configuration file contains the following line:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;using gcc : arm : arm-linux-gnueabihf-g++ ;</div>
</div><!-- fragment --><h3>Usage</h3>
<p>Once <em>boost</em> libraries have been built it is possible to build DeviceHive C++ examples. By default, the <em>boost</em> expected to be located in <code>externals</code> subfolder. The directory structure should look like this:</p>
<ul>
<li><code>examples</code> DeviceHive C++ examples</li>
<li><code>include</code> DeviceHive header files</li>
<li><code>externals</code> external headers and libraries<ul>
<li><code>include</code> header files<ul>
<li><code>boost</code> <em>boost</em> header files, copied from the <code>boost</code> directory of <em>boost</em> package</li>
</ul>
</li>
<li><code>lib</code> library files, copied from the <code>stage</code> directory of <em>boost</em> package</li>
</ul>
</li>
</ul>
<h2>Preparing toolchain </h2>
<p>Since RaspberryPi and BeagleBone has ARM processor we have to use special toolchain to build example applications.</p>
<p>Ubuntu has corresponding package:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo apt-get install gcc-arm-linux-gnueabihf g++-arm-linux-gnueabihf</div>
</div><!-- fragment --><p>Also there are a few tools which can help to prepare such a toolchain: <code>crossdev</code>, <code>crosstool</code>, <code>crosstool-NG</code> etc.</p>
<h3>Installing using crosstool-NG</h3>
<p>The following <a href="http://www.bootc.net/archives/2012/05/26/how-to-build-a-cross-compiler-for-your-raspberry-pi">article</a> describes how to prepare toolchain for RaspberryPi. The short version is:</p><ul>
<li>download and unpack <code>crosstool-NG</code> package</li>
<li><code>./configure &amp;&amp; make &amp;&amp; sudo make install</code></li>
<li><code>cd ./tools/crosstool-ng/raspberrypi</code></li>
<li><code>ct-ng menuconfig</code></li>
<li><code>ct-ng build</code></li>
</ul>
<p>The <code>crosstool-NG</code> package has the following dependencies: <code>bison</code> <code>flex</code> <code>texinfo</code> <code>subversion</code> <code>libtool</code> <code>automake</code> <code>libncurses5-dev</code>. You can install all of these dependencies on Ubuntu using the following command:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo apt-get install bison flex texinfo subversion libtool automake libncurses5-dev</div>
</div><!-- fragment --><h3>Simple "Hello World!" application</h3>
<p>To check cross compilation is working just build the "Hello" example: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;make hello CROSS_COMPILE=arm-linux-gnueabihf-</div>
</div><!-- fragment --><p>The following command </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;file hello</div>
</div><!-- fragment --><p> should print something like: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hello: ELF 32-bit LSB executable, ARM, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 3.5.0, not stripped</div>
</div><!-- fragment --><p>Now you can copy executable to your RaspberryPi device and check it's working fine: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./hello World</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Dec 9 2015 04:33:23 for DeviceHive C++ Framework by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
